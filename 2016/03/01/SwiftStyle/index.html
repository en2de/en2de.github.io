<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Swift Style · En2De's ProJ</title><meta name="description" content="Swift Style - En2De"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="../../../../favicon.png"><link rel="stylesheet" href="../../../../css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="En2De's ProJ"></head><body><div class="wrap"><header><a href="../../../../index.html" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="https://github.com/en2de" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="mailto:envy.chen@me.com" target="_self" class="nav-list-link">MAIL</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Swift Style</h1><div class="post-info">2016年3月1日</div><div class="post-content"><p>因为<strong>Swift</strong>还是一门非常年轻的语言, 所以目前它的代码规范, 编码风格, 推荐用法除了官方文档, 并没有太多可借鉴的地方.</p>
<p>最近看了一本名为<a href="https://www.objc.io/books/advanced-swift/" target="_blank" rel="external">Advanced Swfit</a>的书, 其中总结了一些Swift的编码风格, 摘录如下:</p>
<p>在项目中使用Swift代码时, 尽量遵守一下原则:</p>
<ul>
<li><strong>可读性</strong>是最重要的, 保持简短可以让代码更容易被理解.</li>
<li>为函数添加文档注释, <strong>特别</strong>是泛型函数</li>
<li>类型, 结构体, 枚举使用大写字母开头, 函数,变量以及枚举项(Swift 3.0将采用此规范)使用小写字母开头.</li>
<li>尽量使用类型推断, 省略掉显而易见的类型将有助于提高代码可读性.</li>
<li>如果存在歧义或者进行定义时, 不要使用类型推断.(比如func就需要显示指定返回类型)</li>
<li>优先选择结构体, 只在确实需要使用到类特有的特性或引用引用语义时才使用类.</li>
<li>除非设计就是希望某个类被继承使用, 否则都应将它们标记为 <strong>final</strong></li>
<li>除非一个闭包后立即跟随左括号, 否则都应该使用尾随闭包(trailing colsure)语法.</li>
<li>使用 <strong>guard</strong> 来提早退出方法.</li>
<li>避免对可选值进行强制解包和隐式强制解包, 它们偶尔有用, 但是经常需要使用它们的话往往意味着有其他不妥的地方.</li>
<li>不要写重复的代码. 如果发现写了好几次类似的代码片段的话, 试着将它们提取一个函数里, 并且考虑将这个函数转化为协议扩展的可能性.</li>
<li>试着使用map和reduce, 高阶函数可以让代码可读性更高. 如果使用reduce的场景难以理解的话, 简单的for循环可能会更清晰.</li>
<li>试着使用不可变值: 除非需要改变某个值, 否则都应该使用let来声明变量. 不过如果能让代码更加清晰高效的话, 也可以选择使用可变的版本. 用函数将可变的部分封装起来, 可以把它带来的副作用进行隔离.</li>
<li>Swift的泛型可能会导致非常长的函数签名, 除了将声明写成几行外目前没有什么好办法.</li>
<li>大括号换行的处理上与Swift官方风格一致, 大括号不换行: } else { .</li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="../../05/FourierTransformation/" class="prev">上一篇</a></div><div data-thread-key="2016/03/01/SwiftStyle/" data-title="Swift Style" data-url="http://yoursite.com/2016/03/01/SwiftStyle/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"en2de"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2015 - 2016 <a href="http://yoursite.com">En2De</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>